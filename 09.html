<!doctype html>
<meta charset = utf8>
<!DOCTYPE html>
<html>
<head>
<title>
Работа лампочки с кнопки
</title>
</head>
<body>
<canvas id="canvas1" width="200" height="100" style="border:1px dashed #00c3c3"></canvas>
<div id="print1"></div>

<script type="text/javascript" src="/socket.io/socket.io.js"></script>

<script type="text/javascript">
"use strict"; // in order to use clasess


var canvas, ctx; // create two variables for canvas and context (ctx)

canvas = document.getElementById("canvas1");
ctx = canvas.getContext("2d");

var divElement = document.getElementById("print1"); // variable for div object where the values will be printed (logged)

function log(msg) {
divElement.innerHTML += "<div>" + msg + "</div>"; // we print it to div
}

var socket = io.connect("172.16.22.235:8080");

socket.on("messageToClient", function (msg){
log(msg); // add msg

if (msg==1) {
    ctx.fillStyle="red";
    ctx.fillRect(0,0,400,200);
}
if (msg==0) {
    ctx.fillStyle="green";
    ctx.fillRect(0,0,400,200);
}
});

socket.on("disconnect", function(){
log("Disconnected from the server"); // we print status of disconn. to div
});



</script>

</body>



</html>




    
